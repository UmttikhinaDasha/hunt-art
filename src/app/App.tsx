import { useMemo, useState } from "react";
import { useDebounce } from "@uidotdev/usehooks"
import "./App.scss";
import Header from "./components/header/Header"

function App() {

  const tags = ['#uch', '#fantasy', '#modern', '#vampire', '#ciberpunk'];
  const [searchValue, setSearchValue] = useState<string>('');
  const [isPopupOpen, setIsPopupOpen] = useState<boolean>(false);

  const debounceSearchValue = useDebounce(searchValue, 500);

  const onSetSearchValue = (value: string) => {
    setSearchValue(value);
  }

  const onSetIsPopupOpen = (isOpen: boolean) => {
    setIsPopupOpen(isOpen);
  }

  const foundContent = useMemo(findTag, [debounceSearchValue]);

  function findTag():string[] | string {
    if (searchValue === '') {
      return '';
    } else {
      return tags.filter(tag => tag.indexOf(searchValue) > -1);
    }
  }

  return (
    <>
      <Header onSetSearchValue={onSetSearchValue}
              onSetIsPopupOpen={onSetIsPopupOpen}
              foundValues={foundContent} 
              isPopupOpen={isPopupOpen} />
      <div style={{marginTop: "65px"}}>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat odit, reiciendis mollitia qui distinctio dolores voluptate veniam id delectus quasi quo totam dolor provident fuga facere saepe, nostrum ut sapiente dolorum. Vel odio vitae, quos consequatur perferendis debitis a error dolorum! Voluptates unde voluptas, assumenda iste vitae quos blanditiis a nemo architecto dolorum repudiandae? Nisi eaque eos autem unde accusantium odit tempora reiciendis, voluptate quaerat perferendis deleniti quia cum repellendus reprehenderit saepe aperiam laborum? Inventore modi distinctio rem id, ipsam a cumque voluptate dolore laboriosam atque eius rerum at vero tenetur ratione ipsa porro deleniti voluptates magni quo nesciunt iste?
      </div>
      <div>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Et possimus in ut beatae inventore facere corrupti quasi! Architecto non quidem dolorum fugit molestiae obcaecati optio, id vero nulla, rerum, quod repellat! Possimus esse pariatur consequatur magni porro officiis at iure perspiciatis! Ipsum consequatur hic minus rerum eum voluptatibus, quia sapiente. Reiciendis similique dicta fugiat laborum voluptas placeat doloremque, id modi optio, quae tempore enim architecto repudiandae explicabo, excepturi ratione rerum maxime cupiditate sint praesentium facilis repellat aperiam. Placeat, adipisci voluptates? Dignissimos cupiditate nobis at, quam perferendis, ex omnis cumque recusandae, modi nemo tempora blanditiis! Autem blanditiis id dolores natus illo libero delectus ea minima. Ratione sunt nobis cumque ea voluptatem harum, eveniet enim. Mollitia, id reprehenderit rerum facilis officia debitis at excepturi nostrum, esse et temporibus? Deserunt, obcaecati unde aliquam dolore corrupti quod, laudantium molestiae esse inventore nostrum suscipit. Minus, rem nam magnam quis possimus hic quos amet delectus maiores ex vel reprehenderit inventore earum pariatur incidunt. Itaque delectus repudiandae asperiores architecto magni rerum adipisci voluptatem id labore numquam amet, modi eos nemo rem suscipit illo quia expedita autem libero nobis. Odit omnis doloremque consectetur sunt ea, iste eos quam cumque nihil nobis aliquam sit facilis doloribus, molestias totam fuga eius iusto placeat minima eaque est consequuntur ullam! Architecto accusamus doloremque non blanditiis earum incidunt hic suscipit consectetur quia, neque itaque, vitae rerum perferendis, recusandae cumque officiis esse excepturi eligendi. Voluptatum, itaque! Labore consequatur atque repellat, libero excepturi est beatae dolores quos, quas dolore odio blanditiis. Ex a, nostrum harum quaerat neque vitae atque obcaecati nihil quas non pariatur quod officiis eaque dignissimos adipisci modi natus soluta, recusandae libero illo. Quibusdam eos non possimus adipisci blanditiis est, facilis consectetur rerum porro in tenetur voluptas? Quaerat quibusdam aliquid quasi! Ut nihil dicta, ducimus a ipsa assumenda nulla ea animi et ad, iure asperiores excepturi blanditiis repellat maiores dolore voluptates atque delectus nobis velit ipsam culpa aperiam soluta. Maiores aut veritatis, illo fuga praesentium tempora? Minima provident quis neque tempora commodi, optio nihil officiis nam labore eaque magni eveniet nesciunt quibusdam corporis incidunt unde ut beatae. Delectus non fugit debitis quibusdam sed laborum placeat iusto accusamus. Maxime soluta eius quisquam numquam voluptatibus error doloremque eveniet odio molestias corporis, eos, blanditiis sunt, autem a nihil sed. Perspiciatis esse blanditiis, assumenda dolor laborum culpa fugiat et voluptate delectus aspernatur quia quae qui reprehenderit magnam similique, mollitia consequatur vel? Esse minima consectetur veniam labore maiores nemo impedit dolor molestiae natus saepe, adipisci, voluptas doloremque sed tempora debitis corporis pariatur facere nulla nisi! Natus neque placeat nisi voluptatibus nemo debitis cupiditate tempora distinctio quidem. Harum obcaecati facere, deserunt minima tempore iusto adipisci molestiae illo aliquam sit nesciunt, itaque, ex illum impedit autem alias est quis assumenda doloremque. Placeat consequatur omnis porro laboriosam? Rem doloremque, quae voluptatem reiciendis perspiciatis excepturi reprehenderit dolorem aperiam alias ab aliquid deserunt veritatis commodi minima labore repudiandae sunt vero dolor. Perspiciatis alias fugit cupiditate vero minima dicta ad sequi suscipit eos minus? A dolorum repellat suscipit sed minima repudiandae dignissimos sit aspernatur consectetur, sint fugiat error dolore provident, velit quasi nobis magnam vero et eum molestias! Rem porro quos quibusdam vero maiores totam quia hic explicabo. Explicabo, dolores. Officiis dolores rem facilis porro nisi voluptatum quam id molestias, repellat aut similique error dignissimos illum incidunt odit tempore accusamus aperiam itaque nostrum quod possimus facere minus voluptas! Dolore id obcaecati voluptatibus recusandae libero ad molestias cupiditate consequatur magnam voluptatem nam ab voluptates exercitationem officiis ipsa corporis amet, nulla fuga sequi quia minima rerum aperiam. Sapiente similique dolorum iusto nisi aliquid. Officiis iste et quia dolore adipisci obcaecati, ab architecto dolores praesentium incidunt asperiores placeat quo blanditiis culpa quasi modi. Praesentium ducimus voluptate quis nobis accusantium porro odio dolorem eos eveniet aut dolor eligendi, possimus ipsa velit vitae magnam natus magni a qui consequuntur atque voluptatum, voluptates cupiditate? Tempore eveniet atque pariatur, sapiente iste ducimus dolor, necessitatibus doloremque illo tenetur aspernatur explicabo natus, eum cumque! Ipsam non, quibusdam similique eaque recusandae illum quis in ut blanditiis vel qui reiciendis libero dolore neque amet, reprehenderit asperiores, nemo adipisci inventore ratione mollitia eos. Ducimus incidunt pariatur optio, molestiae possimus velit modi nulla voluptatum nam voluptates, iusto omnis adipisci aperiam at, ipsa maiores. Ad iusto odit minus id veniam mollitia, delectus perspiciatis itaque voluptas aspernatur quas enim incidunt ex dicta quo distinctio maiores! Esse ipsa rerum tempora. Error nisi eum, architecto, quae, totam fugiat earum dicta tempora omnis quam placeat atque consectetur hic libero eveniet! Perspiciatis odio architecto temporibus natus! Aliquid similique eligendi eveniet ex. Minima, tempore adipisci magnam voluptates quod quaerat unde atque aliquid ut maxime itaque provident, accusantium explicabo expedita voluptate nostrum eos, asperiores reprehenderit! Reiciendis voluptates maxime voluptas omnis sunt a qui ea labore dolorem porro quam obcaecati veniam aliquid, numquam, odio vitae provident hic repudiandae modi magnam asperiores. Minima, qui dolor! Voluptates, eius molestias. Iure delectus similique nobis rerum inventore sint obcaecati numquam! Ut adipisci maiores quis quam! Recusandae debitis dolores quod illum fugiat numquam in eius explicabo magnam, veniam alias vel consequatur. Voluptates officia sunt suscipit, nesciunt possimus necessitatibus, vel obcaecati provident saepe praesentium recusandae fugit eaque quos impedit quas placeat nostrum qui veritatis! Quae temporibus rerum sint omnis similique necessitatibus, cum dolore consectetur quos vitae et adipisci modi at impedit aliquid nobis quam incidunt praesentium voluptatem magni nam non, ut voluptatibus. Quam in esse laudantium provident, ut vitae, sint eius doloribus quaerat pariatur consectetur nulla saepe sunt est dolorem cum iusto amet, ducimus harum vel tempore nostrum architecto. Nisi labore illum doloremque! Illo veniam iure dolorum corrupti dignissimos amet cum laboriosam, minima odio eos nulla ullam quo doloremque reiciendis, iste ea beatae temporibus eligendi eum vel ex placeat. Vitae itaque delectus quasi vel soluta, ex odit aspernatur. Consequatur quam, quia assumenda maxime laudantium tempora ad deserunt optio corporis maiores dolorem voluptatem. Ratione totam libero quod odio sint modi tenetur nemo corrupti impedit in praesentium quas iure, dolore incidunt est autem hic. Beatae odio cumque maxime, ipsa natus sequi tempore ut accusamus error deserunt quibusdam quaerat odit soluta et modi labore accusantium, reprehenderit, porro fugit? Repellat officiis, sint vel eius dolorem ea excepturi, sapiente nobis et, dignissimos fugiat dolore numquam quibusdam distinctio? Ducimus excepturi quisquam, voluptatibus odit nihil, reprehenderit vero et omnis, expedita est fugiat laboriosam dolorem laborum fuga. Officia, similique. Veritatis quas eos cum reiciendis quis molestias laborum, modi provident, ullam, aspernatur voluptatibus? Distinctio obcaecati labore, fugiat optio fugit porro dignissimos, culpa quae id architecto rerum odio ipsam ipsum similique accusantium nihil necessitatibus sed eveniet voluptatem repellendus? Culpa officiis reiciendis corporis minus, id aperiam nobis error? Dolorum voluptatem fugiat vitae! Enim aspernatur earum molestiae aliquid quas voluptates nemo eligendi voluptatibus error iusto non corporis nulla vero quaerat, alias quo, rerum mollitia voluptatem commodi soluta eius magnam expedita eveniet quam. Repellat, quibusdam dolore sequi temporibus itaque asperiores explicabo officia omnis consequuntur numquam? Hic, totam. Natus libero reprehenderit sint mollitia molestias odit dolor inventore perspiciatis obcaecati a. Labore autem similique sit doloremque tempore eius nihil iusto a reiciendis commodi sed ad ratione doloribus consequatur dignissimos placeat officiis quos quas nam cum error minima, quidem sint omnis. Quod libero culpa repudiandae, voluptate eligendi eum pariatur ut nostrum molestiae perspiciatis accusamus laboriosam quis eveniet, distinctio iusto nam vero velit. Sint temporibus, reprehenderit consequatur eligendi quis error maxime mollitia autem quos in. Quibusdam nesciunt fuga maxime dolore molestias deserunt reprehenderit. Nam a, minima perferendis iste corrupti, quo inventore temporibus error sint, sequi illum eveniet dicta consequuntur nesciunt? Eaque repellendus alias saepe quos, possimus sapiente. Dolores, rerum est deserunt magni molestias veniam atque quisquam facere expedita aperiam qui voluptates ad possimus soluta voluptatem eos debitis praesentium. Molestias, dignissimos quis corporis hic autem expedita quo at nihil ea eos consectetur omnis impedit harum totam excepturi commodi optio vel perspiciatis a maxime? Quaerat magnam explicabo odio ab voluptatem fuga quo accusamus nesciunt nisi necessitatibus dignissimos esse hic, earum cum eos quia ipsa, sit, suscipit tempora pariatur? Maiores laboriosam vel nobis eveniet in aperiam ad aliquid ullam sed? Eum neque, quos atque quas nesciunt nobis tempore! Non doloremque fugit magni, maiores voluptates quo. Dolor doloribus animi consequatur aut. Commodi magni optio excepturi praesentium nemo eaque rem, deserunt debitis, inventore necessitatibus eius culpa dolores nobis ex quasi iusto magnam? Aliquam quae temporibus qui voluptates ipsa cupiditate sint dolor eos molestias rerum totam est optio sunt fuga expedita deleniti officiis sapiente sit cum, perferendis tempore odio hic tenetur quidem! Consequuntur, dolorem nostrum deleniti tenetur, nisi, error at unde quibusdam incidunt illo adipisci? Harum fugit sint odit pariatur facere non, ratione beatae, distinctio eligendi minima temporibus, aspernatur sapiente ab ducimus. Eos dolore molestiae accusamus quod sint, tempora aut temporibus corrupti, velit exercitationem sapiente. Illum facere quis culpa! Similique rem voluptatum sint nemo natus, dicta eveniet! Molestiae, dolorum fugit consequatur eveniet adipisci assumenda aliquam perspiciatis reprehenderit suscipit, rem, natus quos pariatur atque id quas quod architecto placeat corrupti voluptatem deserunt ipsum vel. Natus a ipsa illum quam delectus facilis modi nulla neque fugiat, dolor soluta ad minus. Optio accusamus, officiis ex atque sint dicta. Commodi dolorum iure repudiandae nihil nulla nesciunt corporis architecto doloribus eos, dicta sunt culpa harum rem non. Provident maxime expedita molestias reprehenderit nemo tempore voluptatibus maiores iste sapiente, in accusamus dicta quibusdam. Obcaecati veniam ullam itaque expedita quisquam delectus impedit nobis, consequuntur mollitia, sunt rem. Ad tempore magni ducimus quaerat obcaecati beatae architecto, aliquid fuga eveniet quasi optio sit reprehenderit reiciendis similique modi! Numquam debitis suscipit quod iure reiciendis quia distinctio hic dolores dolorum tempore soluta dolorem quas sit, voluptatibus consequatur nam odit natus unde fugiat in. Neque ullam in, ipsa, quod aliquam quo libero cum commodi animi, dignissimos placeat. Voluptates aut ab animi repellendus itaque cupiditate illum repellat asperiores eveniet quisquam numquam qui harum dicta, corrupti exercitationem fuga inventore eius est, autem ut provident molestias? In voluptates non voluptatum eaque quis, iusto, distinctio voluptatem quo fugiat ex unde animi ea! Consectetur, hic ex. Reiciendis cumque quia sunt nemo? Officia tempore sequi minus neque nemo suscipit error rerum unde, cum saepe recusandae, quidem necessitatibus nihil beatae sapiente reiciendis.
      </div>
    </>
  )
}

export default App;
